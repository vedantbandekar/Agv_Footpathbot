<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Rover OS | Command</title>

<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>

<!-- Tailwind -->
<script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono&display=swap" rel="stylesheet">

<style>
:root{
    --bg:#020617;
    --glass:rgba(15,23,42,.72);
    --accent:#38bdf8;
    --border:rgba(148,163,184,.15);
}

/* Base */
body{
    font-family:'Inter',-apple-system,sans-serif;
    background:
      radial-gradient(1200px 600px at top,#020617,#000),
      linear-gradient(180deg,#020617,#000);
    color:#e5e7eb;
    letter-spacing:-.01em;
}

/* Mono */
.mono{
    font-family:'JetBrains Mono',monospace;
    font-size:.85rem;
    color:#93c5fd;
}

/* Glass Cards */
.apple-glass{
    background:linear-gradient(
        180deg,
        rgba(30,41,59,.75),
        rgba(15,23,42,.75)
    );
    backdrop-filter:blur(22px) saturate(160%);
    border:1px solid var(--border);
    border-radius:18px;
    box-shadow:
      inset 0 0 0 1px rgba(255,255,255,.03),
      0 20px 60px rgba(0,0,0,.6);
    transition:.35s ease;
}
.apple-glass:hover{
    border-color:rgba(56,189,248,.45);
    transform:translateY(-2px);
}

/* Status */
.status-dot{
    width:8px;
    height:8px;
    border-radius:50%;
    box-shadow:0 0 12px currentColor;
}

/* Titles */
.section-title{
    font-size:11px;
    font-weight:600;
    text-transform:uppercase;
    letter-spacing:.12em;
    color:#94a3b8;
    margin-bottom:1rem;
}
.section-title::after{
    content:"";
    display:block;
    width:26px;
    height:2px;
    margin-top:6px;
    background:linear-gradient(90deg,var(--accent),transparent);
}

/* Labels */
.label{
    font-size:10px;
    text-transform:uppercase;
    color:#64748b;
    font-weight:600;
}

/* Inputs */
.input{
    width:100%;
    background:rgba(2,6,23,.6);
    padding:.5rem .75rem;
    border-radius:.4rem;
    border:1px solid var(--border);
    outline:none;
    color:#e5e7eb;
}
.input:focus{
    border-color:var(--accent);
    box-shadow:0 0 0 1px rgba(56,189,248,.5);
}

/* Button */
.btn-primary{
    width:100%;
    margin-top:.5rem;
    background:linear-gradient(135deg,#38bdf8,#0ea5e9);
    padding:.5rem;
    border-radius:.4rem;
    font-size:.75rem;
    font-weight:600;
    color:#020617;
    box-shadow:0 0 25px rgba(56,189,248,.35);
}
.btn-primary:hover{
    box-shadow:0 0 35px rgba(56,189,248,.6);
}

/* Bars */
.bar{
    width:100%;
    height:4px;
    background:rgba(148,163,184,.15);
    border-radius:999px;
    overflow:hidden;
}
.bar-fill{
    height:100%;
    background:linear-gradient(90deg,#38bdf8,#0ea5e9);
    width:0;
    transition:width 1s ease;
}

/* Map */
#map{
    height:100%;
    width:100%;
    background:#000;
}
.leaflet-tile{
    filter:
      brightness(.55)
      invert(1)
      contrast(2.6)
      hue-rotate(210deg)
      saturate(.35);
}

/* Scanlines */
.scanlines{
    background:
      linear-gradient(rgba(0,0,0,0) 50%,rgba(0,0,0,.28) 50%),
      linear-gradient(90deg,rgba(56,189,248,.04),transparent,rgba(56,189,248,.04));
    background-size:100% 2px,4px 100%;
}

/* Scroll */
.no-scrollbar::-webkit-scrollbar{display:none}
</style>
</head>

<body class="min-h-screen p-6 lg:p-12">
<div class="max-w-6xl mx-auto">

<!-- HEADER -->
<header class="mb-12 flex justify-between items-center">
    <div>
        <h1 class="text-2xl font-semibold tracking-tight">
            Rover <span class="text-slate-400 font-normal">Command</span>
        </h1>
        <p id="statusText" class="text-[11px] uppercase tracking-widest text-slate-500 mt-1">
            System Standby
        </p>
    </div>

    <div class="flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/5 border border-white/10">
        <div id="statusDot" class="status-dot bg-cyan-400"></div>
        <span class="text-[10px] font-medium tracking-wide">LIVE</span>
    </div>
</header>

<!-- MAIN (UNCHANGED STRUCTURE) -->
<main class="grid grid-cols-1 md:grid-cols-3 gap-6">

<!-- LEFT COLUMN -->
<section class="space-y-6">

<div class="apple-glass p-6">
    <p class="section-title">Unit Data</p>
    <div class="space-y-4">
        <div>
            <span class="text-xs text-slate-400">Designation</span>
            <p id="roverId" class="text-xl font-medium">--</p>
        </div>
        <div>
            <span class="text-xs text-slate-400">Range Finder</span>
            <p class="text-xl font-medium">
                <span id="distance">--</span>
                <span class="text-sm text-slate-500">cm</span>
            </p>
        </div>
    </div>
</div>

<div class="apple-glass p-6">
    <p class="section-title">Manual Override</p>
    <div class="space-y-3 text-xs">
        <input id="mLat" placeholder="Latitude" class="input">
        <input id="mLng" placeholder="Longitude" class="input">
        <input id="mDist" placeholder="Ultrasonic Distance (cm)" class="input">
        <input id="mImage" type="file" accept="image/*"
               class="w-full bg-black/40 px-3 py-2 rounded border border-white/10 text-xs">
        <button id="sendManual" class="btn-primary">PUSH TELEMETRY</button>
    </div>
</div>

<div class="apple-glass overflow-hidden">
    <div class="p-4 border-b border-white/10 flex justify-between bg-white/5">
        <p class="section-title">Visual Intake</p>
        <span class="text-[9px] mono text-cyan-400 animate-pulse">AUTO_REFRESH</span>
    </div>
    <div class="aspect-square relative bg-black">
        <img id="botImage" class="w-full h-full object-cover opacity-80 transition">
        <div class="absolute bottom-3 left-3 px-2 py-1 bg-black/60 rounded text-[9px] mono">
            IMG_REF: <span id="imgTime">LATEST</span>
        </div>
    </div>
</div>

<div class="apple-glass p-6">
    <p class="section-title">Battery & Thermal</p>
    <div class="space-y-5">
        <div>
            <div class="flex justify-between text-xs">
                <span>Power Level</span>
                <span id="battery" class="mono">--%</span>
            </div>
            <div class="bar"><div id="batteryBar" class="bar-fill"></div></div>
        </div>
        <div>
            <div class="flex justify-between text-xs">
                <span>Core Temp</span>
                <span class="mono">42°C</span>
            </div>
            <div class="bar"><div class="bar-fill w-[40%] opacity-40"></div></div>
        </div>
    </div>
</div>

</section>

<!-- RIGHT COLUMN -->
<section class="md:col-span-2 space-y-6">

<div class="apple-glass overflow-hidden">
    <div class="aspect-video relative bg-black">
        <div id="map"></div>
        <div class="absolute inset-0 pointer-events-none opacity-10 scanlines"></div>
    </div>

    <div class="p-6 bg-[#020617]/80 border-t border-white/10 flex justify-between">
        <div>
            <p class="label">Global Positioning</p>
            <p id="gps" class="mono text-xs text-cyan-400">
                Initializing Satellite…
            </p>
        </div>
        <div class="text-right">
            <p class="label">Precision Lat/Lng</p>
            <div class="flex gap-3 mono text-[11px]">
                <span id="lat">--</span>
                <span id="lng">--</span>
            </div>
        </div>
    </div>
</div>

<div class="apple-glass p-6">
    <p class="section-title">Telemetry History</p>
    <ul id="history" class="mono text-[11px] space-y-2 max-h-32 overflow-y-auto no-scrollbar">
        <li class="text-slate-600 italic">No historical data…</li>
    </ul>
</div>

</section>
</main>
</div>

<!-- JS (UNCHANGED) -->
<script type="module" src="assets/js/dashboard.js"></script>

</body>
</html>
